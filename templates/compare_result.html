{% extends "layout.html" %}
{% set active_page = "nav_compare" %}
{% block title %}Compare cars{% endblock %}
{% block h1 %}Select vehicles you want to compare{% endblock %}
{% block classes %}text-center{% endblock %}
{% block content %}
<table class="table table-striped">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Manufacturer</th>
            <th scope="col">Year</th>
            <th scope="col">Battery size (Kwh)</th>
            <th scope="col">WLTP range (Km)</th>
            <th scope="col">Cost</th>
            <th scope="col">Power (Kw)</th>
        </tr>
    </thead>
    <tbody>
        {% for car in cars_list %}

        <tr>
            <th scope="row"><a href="/car_info/{{car.key.id}}" class="btn btn-secondary stretched-link">{{
                    car['name'] }}</a></th>
            <td>{{ car['manufacturer'] }}</td>
            <td
                class="{{ 'bg-success' if car['year'] == max['year'] else 'bg-danger' if car['year'] == min['year'] else 'bg-secondary'}}">
                {{ car['year'] }}</td>
            <td class=" {{ 'bg-success' if car['battery']==max['battery'] else 'bg-danger' if
                car['battery']==min['battery'] else 'bg-secondary' }}">{{ car['battery'] }}</td>
            <td
                class="{{ 'bg-success' if car['wltp'] == max['wltp'] else 'bg-danger' if car['wltp'] == min['wltp'] else 'bg-secondary'}}">
                {{ car['wltp'] }}</td>
            <td class=" {{ 'bg-success' if car['cost']==min['cost'] else 'bg-danger' if car['cost']==max['cost']
                else 'bg-secondary' }}">{{ car['cost'] }}</td>
            <td
                class="{{ 'bg-success' if car['power'] == max['power'] else 'bg-danger' if car['power'] == min['power'] else 'bg-secondary'}}">
                {{ car['power'] }}</td>
        </tr>
        {% endfor %}
    </tbody>
    <tbody>
        <tr>
            <th></th>
        </tr>
    </tbody>
    <tbody>
        <tr>
            <th scope="row"> Average</th>
            <td> - </td>
            <td
                class="{{ 'bg-success' if average['year'] == max['year'] else 'bg-danger' if average['year'] == min['year'] else 'bg-secondary'}}">
                {{ average['year'] }}</td>
            <td class=" {{ 'bg-success' if average['battery']==max['battery'] else 'bg-danger' if
                average['battery']==min['battery'] else 'bg-secondary' }}">{{ average['battery'] }}</td>
            <td
                class="{{ 'bg-success' if average['wltp'] == max['wltp'] else 'bg-danger' if average['wltp'] == min['wltp'] else 'bg-secondary'}}">
                {{ average['wltp'] }}</td>
            <td class=" {{ 'bg-success' if average['cost']==min['cost'] else 'bg-danger' if average['cost']==max['cost']
                else 'bg-secondary' }}">{{ average['cost'] }}</td>
            <td
                class="{{ 'bg-success' if average['power'] == max['power'] else 'bg-danger' if average['power'] == min['power'] else 'bg-secondary'}}">
                {{ average['power'] }}</td>
        </tr>
    </tbody>
</table>
{% endblock %}